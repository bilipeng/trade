# 业财融合管理系统组件设计文档

## 组件架构概述

系统采用前后端分离架构，通过清晰的职责划分和标准化的接口设计，确保代码的可维护性和可扩展性。

## 前端组件（PyQt6）

### 1. 界面组件
- **LoginWidget**：登录界面
  - 用户认证
  - 密码重置
  - 记住登录状态

- **MainWindow**：主窗口
  - 导航菜单
  - 状态栏
  - 工具栏

- **BusinessForms**：业务表单
  - 数据输入验证
  - 表单状态管理
  - 动态表单生成

### 2. 控制器组件
- **AuthController**：认证控制
  - 用户登录逻辑
  - Token管理
  - 权限验证

- **BusinessController**：业务控制
  - 业务数据处理
  - 业务规则验证
  - 状态管理

### 3. 数据访问组件
- **ApiClient**：API客户端
  - HTTP请求封装
  - 响应处理
  - 错误处理

## 后端组件（FastAPI）

### 1. API接口组件
- **AuthEndpoints**：认证接口
  - 登录接口
  - 注销接口
  - 权限验证

- **BusinessEndpoints**：业务接口
  - 业务数据CRUD
  - 业务流程处理
  - 数据验证

### 2. 服务组件
- **AuthService**：认证服务
  - 用户认证
  - 权限管理
  - Session处理

- **BusinessService**：业务服务
  - 业务规则实现
  - 数据处理
  - 事务管理

### 3. 数据访问组件
- **DatabaseAccess**：数据库访问
  - SQL查询封装
  - 连接池管理
  - 事务控制

## 工具组件

### 1. 通用工具
- **Logger**：日志工具
  - 日志记录
  - 错误追踪
  - 性能监控

- **Validator**：验证工具
  - 数据验证
  - 格式检查
  - 规则校验

## 组件开发规范

### 1. 命名规范
- 组件名使用大驼峰命名（PascalCase）
- 方法名使用小驼峰命名（camelCase）
- 常量使用大写下划线命名（UPPER_SNAKE_CASE）

### 2. 文件组织
- 按功能模块划分目录
- 相关组件放在同一目录
- 使用index文件导出模块

### 3. 注释规范
- 组件级别注释说明功能和用途
- 关键方法注释说明参数和返回值
- 复杂逻辑添加必要的说明注释